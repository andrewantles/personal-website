# Contributing

## Prerequisites

- Python 3.8+

## Setup

1. Create a virtual environment:

   ```bash
   python3 -m venv .venv
   ```

2. Activate the virtual environment:

   ```bash
   source .venv/bin/activate
   ```

3. Install dependencies:

   ```bash
   pip install -r requirements.txt
   ```

## Building the Site

Run the build script:

```bash
python build.py
```

Or use watch mode for automatic rebuilding on file changes:

```bash
python build.py --watch
```

Watch mode polls every 1 second for changes in `src/` (including posts). Press `Ctrl+C` to stop.

## Project Structure

- `src/` - Source files (edit these)
  - `templates/` - HTML templates for blog post and listing pages
  - `components/` - Shared HTML components (header, navbar, footer) injected at build time
  - `posts/` - Markdown blog posts with YAML frontmatter
    - Subdirectories contain post images (copied to `public/blog-files/` during build)
- `pages/` - Built HTML output (generated by `build.py`, do not edit directly)
- `public/` - Static assets (CSS, images, fonts)
- `components/` - Legacy JavaScript components (being replaced by `src/components/`)
- `build.py` - The build script

## Writing a Blog Post

1. Create a new `.md` file in `src/posts/` with the naming convention `YYYY-MM-DD-slug.md`
2. Add YAML frontmatter at the top:

   ```yaml
   ---
   title: "Your Post Title"
   date: YYYY-MM-DD
   summary: "A short description for the blog post listing page."
   author: "Author Name"  # Optional, defaults to "Andrew Antles"
   thumbnail_alt: "Alt text for first image in the blog post, which will be used as post listing tile thumbnail."
   ---
   ```

3. Write your post content in markdown below the frontmatter
4. For images, create a subdirectory in `src/posts/` that matches the name of the associated markdown file and reference with relative paths:

   ```markdown
   ![Alt text](./yyyy-mm-dd-post-name/image.png)
   ```

5. Run `python build.py` to generate the HTML

